<!DOCTYPE html>
<html>
<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>

<head>
  <title>earnpat | github profile</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
</head>

<body>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

  <div id="root"></div>

  <script type="text/babel">
    class App extends React.Component {
      state = {
        profile: '',
        data: undefined
      }

      searchProfile = () => {
        axios.get(`https://api.github.com/users/${this.state.profile}`)
          .then(res => this.setState({ data: res.data }))
          .catch(error => console.error(error))
      }

      render() {
        const { profile, data } = this.state

        return (
          <div className="gp-container-width">
            <div className="gp-container">
              <div className="gp-title">Github Profile</div>
              <div className="gp-input-container">
                <div className="f-c-c gp-input-icon"><i className="bi bi-search"></i></div>
                <div className="gp-input">
                  <input placeholder="profile"
                    value={profile}
                    onChange={e => this.setState({ profile: e.target.value })}
                    onKeyPress={e => e.key.toUpperCase() === 'ENTER' ? this.searchProfile() : null}
                  />
                </div>
              </div>
            </div>

            {data && <div className="gp-container-user">
              <div className="f-c-c">
                <div className="f-c-c gp-profile-image">
                  <img src={data.avatar_url} alt="" /></div>
              </div>
              <div className="gp-profile-container">
                <div>
                  <div className="gp-profile-name">{data.name}</div>
                  <div>{data.bio}</div>
                  <div className="gp-profile-info">
                    <div className="gp-profile-info-title">Following</div>
                    <div>: {data.following} User{data.following <= 1 ? '' : 's'}</div>
                    <div className="gp-profile-info-title">Followers</div>
                    <div>: {data.followers} User{data.followers <= 1 ? '' : 's'}</div>
                    <div className="gp-profile-info-title">Joined on</div>
                    <div>: {moment(data.created_at).format('D MMMM YYYY HH:mm')}</div>
                    <div className="gp-profile-info-title">Location</div>
                    <div>: {data.location || '-'}</div>
                    <div className="gp-profile-info-title">Public Repos</div>
                    <div>: {data.public_repos} Repo{data.public_repos <= 1 ? '' : 's'}</div>
                  </div>
                </div>
                <a href={data.html_url} target="_blank">
                  <div className="f-c-e gp-profile-see">See Profile <i className="bi bi-arrow-right"></i></div>
                </a>
              </div>
            </div>}
          </div>
        )
      }
    }

    ReactDOM.render(<App />, document.getElementById('root'))
  </script>

</body>

</html>